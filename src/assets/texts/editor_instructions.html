<div class='outermost'>
  <b>To start or pause audio playback</b>: click on the play / pause icon on the
  transport at the bottom of the screen, or press the space bar.<br><br>

  <b>There are two ways to add a new trajectory</b>:
  <ol type='1'>
    <li>
      <b>Press “t” to enter trajectory mode.</b> Click on the editor to add green 
      pivot dots, quantized to the nearest sargam line. In order to insert a new 
      trajectory according to those pivot dots, click on the desired trajectory 
      icon on the panel on the right side of the screen, or type the number or 
      letter associated with that icon. Before inserting the trajectory, in order 
      to specify if that trajectory should begin with a pluck, toggle the “pluck” 
      checkbox on the right panel, or press “p.” In order to specify if that 
      trajectory should be muted at the end, or left open, toggle the “dampen” 
      checkbox on the right panel, or press “d.” To exit this mode, press 
      “escape.”
      <ol type='a'>
        <li>
          For two pivot dots located on the same pitch, two trajectories are 
          available: <b>0. Fixed</b>, or <b>e. Vibrato</b>.
        </li>
        <li>
          For two pivot dots located on different pitches, three trajectories are
          available: <b>1. Bend: Simple</b>, <b>2. Bend: Sloped Start</b>, and 
          <b>3. Sloped End</b>.
        </li>
        <li>
          For three pivot dots, five trajectories are available: <b>4. Bend: Ladle
          </b>, <b>5. Bend: Reverse Ladle</b>, <b>6. Bend: Simple Multiple</b>, 
          <b>7. Krintin</b>, and <b>b. Slide</b>.
        </li>
        <li>
          For four pivot dots, two trajectories are available: <b>6. Bend: 
          Simple Multiple</b>, and <b>8: Krintin Slide</b>.
        </li>
        <li>
          For five pivot dots, two trajectories are available: <b>6. Bend: Simple 
          Multiple</b>, and <b>9. Krintin Sli de Hammer</b>.
        </li>
        <li>
          For six pivot dots, one trajectory is available: <b>6. Bend: Simple 
          Multiple.</b>
        <li>
          For seven pivot dots, two trajectories are available: <b>6. Bend: Simple 
          Multiple</b> and <b>a. Dense Krintin Slide Hammer</b>.
        </li>
        <li>
          For more than seven pivot dots, one trajectory is available: <b>6. Bend:
          Simple Multiple</b>.
        </li> 
      </ol>
    </li>
    <br>
    <li>
      <b>Press “s” to enter serial mode.</b> This allows for the efficient 
      entering of a series of plucked fixed trajectories that lead directly from 
      one to the next, as in a fast taan sequence. Click on the editor to add a 
      purple pivot dot, quantized to the nearest sargam line. Each subsequent 
      click will insert a plucked fixed trajectory beginning at the previous pivot
      dot and ending at the time of the new pivot dot. To exit this mode, press 
      “escape.”
    </li>
  </ol>
  <b>To edit an existing trajectory:</b>
    Click on a trajectory to select it. A selected trajectory will appear red with
    purple pivot dots. Click and drag a pivot dot to change the timing and/or 
    pitch. To toggle a pluck at the beginning of the trajectory, press “p” or 
    click on the checkbox labeled “pluck.” To toggle a mute at the end of the 
    trajectory, press “d” or click on the checkbox labeled “dampen.” To change 
    from one trajectory to another, click on the desired trajectory icon, or 
    press the associated number/letter on the keyboard. Note that you can only 
    change to trajectories with the same number of pivot points (see above). To 
    adjust the slope of certain trajectories—<b>2. Bend: Sloped Start</b>, <b>3. 
    Bend: Sloped End</b>, <b>4. Bend: Ladle</b>, or <b>5. Bend: Reverse Ladle</b>—
    click and drag the range slider labeled “slope.” To delete a selected 
    trajectory, press “delete” (or, “backspace” on windows). To deselect a 
    trajectory, press “escape” or click elsewhere on the editor. For <b>e. 
    Vibrato</b>:
    <ul>
      <li>
        Adjust the total number of periods in the oscillation by clicking and 
        dragging the range slider labeled “Periods.”
      </li>
      <li>
        Adjust the pitch bandwidth of the vibrato by clicking and dragging the 
        range slider labeled “Extent.”
      </li>
      <li>
        Adjust the pitch offset of the vibrato by clicking and dragging the range 
        slider labeled “Offset."
      </li>
      <li>
        To toggle the phase of the oscillation (starting up vs down), click on the 
        checkbox labeled “Phase.”
      </li>
    </ul>

    <b>Chikaris:</b> To add a chikari stroke, press “c” to enter chikari mode, and 
    click anywhere in the editor to add a chikari at that time point. To delete a 
    chikari, select it and press “delete” (or “backspace” on windows). Press 
    “escape” or click elsewhere on the editor pane to deselect a chikari.<br><br>

    <b>Phrase Divisions</b>: To add a phrase division, with nothing else selected,
    press “p” to enter phrase division mode. Click anywhere in the editor pane to 
    insert a phrase division at that time point. If the time clicked coincides 
    with a trajectory, the phrase division will be automatically placed at the 
    nearest trajectory division. To move a phrase division, click and drag it. To 
    delete a phrase division, click on the phrase division to select it, and press
    “delete” (or “backspace” on windows). To switch between “phrase” and “section”
    divisions, with a division selected, on the right panel, select either “phrase
    division” or “section division.” Section divisions are one hierarchical 
    structural level up from phrase divisions, and manifest as a thicker vertical 
    line.<br><br> 

    <b>To save a transcription</b>: click the “Save” button on the right panel.
    <br><br>
    <b>To toggle the visibility of the spectrogram</b> (for transcriptions 
    associated with an audio recording): Click on the checkbox labeled 
    “Spectrogram.” <br><br>

    <b>To toggle the visibility of sargam letters</b>: Click on the checkbox 
    labeled “Sargam.”
    
    <b>To highlight a region of the editor pane</b> (for the purposes of looping 
    that section): Click, drag, and release inside of the x-axis at the top of the 
    editor. A semi-transparent gray rectangle should appear. The timepoints of the
    click and the release will serve as the borders of the region. To edit the 
    region borders, click and drag the edges of the region. To disable the region,
    press “Escape.” To assign the region boundaries to a particular phrase, Press 
    “r” to enter region mode, and click on the desired phrase.<br><br>

    <b>In order to loop a region</b>: Click on the checkbox labeled “loop.” Note 
    that the playhead must begin to the left of the region when pressing play in 
    order for the looping to work.<br><br>

    <b>To zoom in/out on the transcription</b>: To zoom vertically, click on the 
    plus/minus buttons on the top right of the editor pane or scroll in/out while 
    the cursor is placed on the Y axis (on the left side of the editor pane). To 
    zoom horizontally, click on the plus/minus buttons on the bottom left of the 
    editor pane or scroll in/out while the cursor is placed on the X axis (at the 
    top of the editor pane).<br><br> 
    <b>Audio Playback Settings</b>: To adjust audio settings, select the ruler 
    icon in the lower right-hand corner of the screen to display a box with a 
    series of labeled range sliders.
    <ul> 
      <li>“Recording gain” controls the volume of the original audio recording (if
        there is one associated with this transcription).</li>
      <li>“Synthesis gain” controls the volume of the string synthesis.</li> 
      <li>“Synthesis damping” adjusts the coefficient of the string synthesis 
        algorithm. Adjusting the slider upwards makes the string ring 
        longer/louder; adjusting the slider downwards makes the string more muted.
        For more information on the synthesis algorithm, 
        <a href="https://doi.org/10.2307/3680062">see here.</a></li>
      <li>“Chikari gain” controls the volume of the chikari pluck synthesis.</li>
      <li>“Pitch Shift” transposes both the original recording and the synthesized
        playback.</li> 
    </ul>
  <b>Relative Tuning:</b> To adjust the relative tuning of each of the pitches in 
  the raag (excluding “Sa” / tonic) click on the tuning fork icon on the lower 
  left-hand of the page. To hear the different pitches, adjust the gain range 
  slider associated with each one. Adjusting the “tune” range slider will adjust 
  both the heard pitch as well as the vertical position of the sargam lines (and 
  trajectories) associated with that pitch in the editor pane.<br><br> 

  <b>If you encounter visual glitches or oddities</b>: Click “Reset Zoom” to 
  redraw the transcription.<br><br> 

  <b>If you encounter audio glitches or oddities</b>: Refresh the page. (But 
  don&#39;t forget to save the transcription if you have made edits!)<br><br>

  <b>To report bugs or make feature requests</b>: Submit an issue at 
  <a href="https://github.com/jon-myers/idtp">github</a>, or write an email to 
  <a href="&#x6d;ailto&#58;jbmyers&#64;ucsc&#46;edu">Jon Myers</a>.<br><br>
</div>


<style scoped>
  a {
    color: #828eff;
  }

  .outermost {
    max-width: 700px;
  }
</style>